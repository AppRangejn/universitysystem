FROM php:8.2-fpm

# ğŸ§° Ğ’ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ½Ğ¸Ñ… Ğ·Ğ°Ğ»ĞµĞ¶Ğ½Ğ¾ÑÑ‚ĞµĞ¹ Ñ– PHP-Ñ€Ğ¾Ğ·ÑˆĞ¸Ñ€ĞµĞ½ÑŒ
RUN apt-get update && apt-get install -y \
    git unzip curl libpng-dev libonig-dev libxml2-dev zip libzip-dev libpq-dev \
    && pecl install redis \
    && docker-php-ext-enable redis \
    && docker-php-ext-install pdo_pgsql mbstring exif pcntl bcmath gd zip \
    && apt-get clean && rm -rf /var/lib/apt/lists/*

# ğŸ“¦ ĞšĞ¾Ğ¿Ñ–ÑÑ”Ğ¼Ğ¾ Composer
COPY --from=composer:2.6 /usr/bin/composer /usr/bin/composer

# ğŸ“‚ Ğ Ğ¾Ğ±Ğ¾Ñ‡Ğ° Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ñ–Ñ
WORKDIR /var/www/html

# ğŸ‘¨â€ğŸ”§ ĞŸÑ€Ğ°Ğ²Ğ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ñƒ
RUN chown -R www-data:www-data /var/www/html

# ğŸš€ Ğ—Ğ°Ğ¿ÑƒÑĞº PHP-FPM
CMD ["php-fpm"]
